<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Nlyte QR Code Generator ðŸ˜Ž</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 flex flex-col items-center justify-center min-h-screen relative">
    <h1 class="text-4xl font-bold mb-6">
        Nlyte QR Code <span class="text-blue-500">Generator</span> ðŸ˜Ž
    </h1>
    <div id="code" class="text-3xl font-mono bg-white p-4 rounded shadow mb-4"></div>
    <div class="flex space-x-4 mb-2">
        <button onclick="copyToClipboard()" class="bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded">
            Copy to Clipboard
        </button>
        <button onclick="generateCode()" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded">
            Generate New Code
        </button>
    </div>
    <div class="h-8">
        <div id="confirmation" class="text-green-600 font-semibold hidden">Code copied to clipboard!</div>
    </div>

    <script>
        async function generateCode() {
            const response = await fetch('/generate');
            const data = await response.json();
            const codeElement = document.getElementById('code');
            codeElement.textContent = data.code;
            copyTextToClipboard(data.code);
        }

        function copyToClipboard() {
            const code = document.getElementById('code').textContent;
            copyTextToClipboard(code);
        }

        function copyTextToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                const confirmation = document.getElementById('confirmation');
                confirmation.classList.remove('hidden');
                setTimeout(() => {
                    confirmation.classList.add('hidden');
                }, 3000);
            });
        }

        window.onload = generateCode;
    </script>
</body>
</html>
